import{_ as L,V as p}from"./VContainer-pp_nR63Q.js";import{r as V,aH as _,X as I,ay as u,az as l,aA as c,c as N,aC as T,L as b,aD as x,V as t,aB as S,C as h,a7 as w}from"./index-DuAN34BQ.js";import{Y as k,P as B,Q as C,Z as $}from"./VList-DpcOEhgT.js";const D={class:"text-right",style:{"font-size":"12px"}},E={__name:"Station",props:{stationName:{type:String,required:!0}},setup(e){const r=V(0),a=_(),y=e,f=n=>{const o=Math.floor(n/60),s=Math.round(n%60);return`${o}:${s<10?"0":""}${s}`},d=()=>{const n=a.stations[y.stationName].now,o=new Date().getTime(),s=n.endTime-n.startTime,i=(o-n.startTime*1e3)/1e3;return{percentage:i/s*100,elapsedTime:f(i),totalTime:f(s)}};var m=d();const v=()=>{document.hidden?clearInterval(g):g=setInterval(()=>{m=d(),r.value+=1},1e3)};document.addEventListener("visibilitychange",v),I(()=>{document.removeEventListener("visibilitychange",v),clearInterval(g)});let g=setInterval(()=>{m=d(),r.value+=1},1e3);return(n,o)=>{const s=L;return l(),u(p,null,{default:c(()=>[N(k,{class:"align-centerfill-height mx-auto","max-width":"900"},{default:c(()=>[N(B,null,{default:c(()=>[(l(!0),T(b,null,x(t(a).stations,i=>(l(),T(b,{key:i.stationName},[i.stationName===e.stationName?(l(),u(C,{key:0},{default:c(()=>[N(s,{stationName:i.stationName,stationLabel:t(a).stations[e.stationName].stationLabel,songTitle:t(a).stations[e.stationName].now.firstLine.title,artist:t(a).stations[e.stationName].now.secondLine.title,image:t(a).stations[e.stationName].now.visuals.card.src,route:"/",routeIcon:"mdi-view-list",label:t(a).stations[e.stationName].now.song.release.label,albumTitle:t(a).stations[e.stationName].now.song.release.title,albumYear:t(a).stations[e.stationName].now.song.year},{default:c(()=>[o[0]||(o[0]=h("br",null,null,-1)),(l(),u($,{key:r.value,"model-value":t(m).percentage},null,8,["model-value"])),h("div",D,w(t(m).elapsedTime)+"/"+w(t(m).totalTime),1)]),_:2,__:[0]},1032,["stationName","stationLabel","songTitle","artist","image","label","albumTitle","albumYear"])]),_:2},1024)):S("",!0)],64))),128))]),_:1})]),_:1})]),_:1})}}},M={__name:"[stationName]",setup(e){return(r,a)=>(l(),u(E,{stationName:r.$route.params.stationName},null,8,["stationName"]))}};export{M as default};
