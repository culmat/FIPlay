import{V as y,_ as L}from"./VContainer-4VMJaU9A.js";import{r as V,aE as x,U as I,at as l,au as u,av as c,c as f,az as b,J as w,aA as S,R as t,ay as h,aw as p,ax as _}from"./index-BZAEoYSU.js";import{W as k,P as $,Q as B,X as C}from"./VList-DbmUCdhC.js";const E={class:"text-right",style:{"font-size":"12px"}},P={__name:"Station",props:{stationName:{type:String,required:!0}},setup(e){const r=V(0),a=x(),d=e,v=n=>{const o=Math.floor(n/60),s=Math.round(n%60);return`${o}:${s<10?"0":""}${s}`},g=()=>{const n=a.stations[d.stationName].now,o=new Date().getTime(),s=n.endTime-n.startTime;console.log("tt ",s,d.stationName),console.log("nt",(o-n.startTime*1e3)/1e3,d.stationName);const i=(o-n.startTime*1e3)/1e3;return{percentage:i/s*100,elapsedTime:v(i),totalTime:v(s)}};var m=g();const T=()=>{document.hidden?clearInterval(N):N=setInterval(()=>{m=g(),r.value+=1},1e3)};document.addEventListener("visibilitychange",T),I(()=>{document.removeEventListener("visibilitychange",T),clearInterval(N)});let N=setInterval(()=>{m=g(),r.value+=1},1e3);return(n,o)=>{const s=L;return l(),u(y,null,{default:c(()=>[f(k,{class:"align-centerfill-height mx-auto","max-width":"900"},{default:c(()=>[f($,null,{default:c(()=>[(l(!0),b(w,null,S(t(a).stations,i=>(l(),b(w,{key:i.stationName},[i.stationName===e.stationName?(l(),u(B,{key:0},{default:c(()=>[f(s,{stationName:i.stationName,stationLabel:t(a).stations[e.stationName].stationLabel,songTitle:t(a).stations[e.stationName].now.firstLine.title,artist:t(a).stations[e.stationName].now.secondLine.title,image:t(a).stations[e.stationName].now.visuals.card.webpSrc,route:"/",routeIcon:"mdi-view-list",label:t(a).stations[e.stationName].now.song.release.label,albumTitle:t(a).stations[e.stationName].now.song.release.title,albumYear:t(a).stations[e.stationName].now.song.year},{default:c(()=>[o[0]||(o[0]=h("br",null,null,-1)),(l(),u(C,{key:r.value,"model-value":t(m).percentage},null,8,["model-value"])),h("div",E,p(t(m).elapsedTime)+"/"+p(t(m).totalTime),1)]),_:2},1032,["stationName","stationLabel","songTitle","artist","image","label","albumTitle","albumYear"])]),_:2},1024)):_("",!0)],64))),128))]),_:1})]),_:1})]),_:1})}}},R={__name:"[stationName]",setup(e){return(r,a)=>(l(),u(P,{stationName:r.$route.params.stationName},null,8,["stationName"]))}};export{R as default};
